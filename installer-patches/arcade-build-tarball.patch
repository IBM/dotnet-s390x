From 4d22d7553e63f2be966ba8aac8998182e947ed8b Mon Sep 17 00:00:00 2001
From: Ilya Leoshkevich <iii@linux.ibm.com>
Date: Tue, 19 Jul 2022 12:32:29 +0200
Subject: [PATCH] Fix ArcadeBuildTarball on s390x

Do not install 2.1.0 framework, since it's not supported on s390x.
---
 eng/restore-toolset.sh | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/eng/restore-toolset.sh b/eng/restore-toolset.sh
index 42ee4d364..0a19de3d8 100644
--- a/eng/restore-toolset.sh
+++ b/eng/restore-toolset.sh
@@ -16,7 +16,9 @@ function InitializeCustomSDKToolset {
   # Install 2.1 framework for dotnet-deb-tool.
   # Failures on this call will be ignored, as this is expected to fail on some
   # OSes.
-  InstallDotNetSharedFramework "2.1.0"
+  if [[ "$(uname -m)" != s390x ]]; then
+    InstallDotNetSharedFramework "2.1.0"
+  fi
 }
 
 # Installs additional shared frameworks for testing purposes
-- 
2.34.1

